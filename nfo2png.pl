#!/usr/bin/env perl
use strict;
use warnings;

use Image::PNG::Libpng ':all';
use Image::PNG::Const qw( PNG_COLOR_TYPE_GRAY
                          PNG_TRANSFORM_PACKSWAP
                          PNG_TRANSFORM_INVERT_MONO );

# config settings
use constant {
  MARGIN_W => 0,
  MARGIN_H => 0,
  SCALE_W => 3,
  SCALE_H => 4,
  INVERT => 1
};

# font settings
use constant {
  FONT_W => 9,
  FONT_H => 16
};

use constant FONT => (
  "\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\x00\xFC\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x0C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0E\x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xC0\x0D\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x88\x54\xED\xC2\x80\x01\x03\x1B\x00\x00\xD8\xB0\x01\xC0\x86\x0D\x06\x00\x18\x30\x00\xC0\x00\x00\x03\x06\x36\x6C\x00\xB0\x01\xC0\x06\x00\x1B\x0C\x6C\x00\x00\x60\x83\x01\x00\x00\x36\x18\x30\x00\xF8\x0F\xE0\x01\xFC\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",
  "\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\x00\xFC\x03\x00\x00\x00\x00\x00\x01\x80\x00\x00\x00\xC0\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x98\x01\x80\x01\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07\x00\x0C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xC0\x40\x00\xC0\x00\x07\x00\x08\x00\x18\x00\x80\xC1\xC0\x18\x1B\x0C\x00\x00\x40\x00\xC0\x00\x03\x03\x00\xC6\x8C\xC1\xC0\x01\xC0\x0F\x38\x18\x60\x60\xC0\x00\x60\x07\x0F\x0E\x00\x00\x00\x18\x30\x00\x00\x00\x00\x22\xAA\xB8\xC3\x80\x01\x03\x1B\x00\x00\xD8\xB0\x01\xC0\x86\x0D\x06\x00\x18\x30\x00\xC0\x00\x00\x03\x06\x36\x6C\x00\xB0\x01\xC0\x06\x00\x1B\x0C\x6C\x00\x00\x60\x83\x01\x00\x00\x36\x18\x30\x00\xF8\x0F\xE0\x01\xFC\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x1C\x00\x00\x80\xB7\xC1\x01\x00\x00",
  "\x00\xFC\xF8\x01\x00\x00\x00\x00\x00\xFF\x00\xFC\xC3\xC3\x83\x9F\x3F\x00\x03\xC0\x60\x30\xE3\x6F\x0C\x00\x0C\x18\x30\x00\x00\x00\x00\x00\x00\x00\x00\x30\x98\x01\xE0\x03\x00\x07\x06\x30\x18\x00\x00\x00\x00\x00\x00\x00\x3C\x30\xF8\xF0\x01\xE3\x0F\x87\x3F\x3E\x7C\x00\x00\x00\x00\x00\x00\x1F\x00\x10\xFC\xE0\xF1\xE1\xCF\x1F\x1E\x63\x78\xE0\x39\xF3\x60\xD8\x18\x1F\x3F\x7C\xFC\xF0\xF1\x6F\xCC\xB0\x61\xC3\x86\xFD\xE3\x01\x80\x87\x0D\x00\x18\x00\x1C\x00\x80\x03\x00\x07\x00\x07\x30\x80\x39\xC0\x01\x00\x00\x00\x00\x00\x00\x00\x80\x00\x00\x00\x00\x00\x00\x00\x80\x83\xC1\x81\x1B\x00\x3C\x66\x60\xE0\x30\x83\x81\x0D\x00\x1C\xC6\x30\x30\xC3\x83\x01\x00\x0E\x06\x00\xF0\xE1\x30\x86\x81\x07\x06\x63\x00\x00\xC0\x60\x63\x98\x19\x6C\x0C\x30\x30\x60\xE0\x06\x80\x0D\x1B\x0C\x00\x00\x18\x30\x00\x03\x00\x00\x88\x54\xED\xC2\x80\x01\x03\x1B\x00\x00\xD8\xB0\x01\xC0\x86\x0D\x06\x00\x18\x30\x00\xC0\x00\x00\x03\x06\x36\x6C\x00\xB0\x01\xC0\x06\x00\x1B\x0C\x6C\x00\x00\x60\x83\x01\x00\x00\x36\x18\x30\x00\xF8\x0F\xE0\x01\xFC\xFF\x00\x3C\xFC\x01\x00\x00\x00\x00\x00\x00\x00\x70\xC0\x03\x00\x00\x0E\x00\x00\x00\x00\x00\x00\x07\x03\x00\x00\x36\x00\x00\x80\x61\x63\x03\x00\x00",
  "\x00\x02\xFD\x03\x00\x00\x03\x06\x00\xFF\x00\xFC\x83\x63\x86\x99\x31\x0C\x07\xE0\xF0\x30\xB3\xCD\x00\x00\x1E\x3C\x30\x00\x00\x00\x00\x00\x00\x00\x00\x78\x98\xB1\x31\x06\x80\x0D\x06\x18\x30\x00\x00\x00\x00\x00\x00\x00\x66\x38\x8C\x19\x83\x63\x80\x81\x31\x63\xC6\x00\x00\x00\x06\x80\x81\x31\x3E\x38\x98\x31\x63\xC3\x8C\x19\x33\x63\x30\xC0\x30\x63\xE0\xDC\x99\x31\x66\xC6\x98\x19\xB3\x6D\xCC\xB0\x61\xC3\x86\x0D\x63\x10\x00\xC6\x18\x00\x00\x00\x18\x00\x00\x03\x80\x0D\x00\x06\x30\x80\x31\x80\x01\x00\x00\x00\x00\x00\x00\x00\xC0\x00\x00\x00\x00\x00\x00\x00\xC0\x80\x01\xC3\x0E\x00\x66\x00\x30\xB0\x01\x00\x03\x07\x00\x36\x00\x60\x00\x60\x06\x03\x02\x00\x00\x00\xD8\xB0\x01\x00\xC3\x0C\x0C\x00\x7C\x8C\xF1\x63\xC2\x8C\x19\x0C\x06\x18\x18\x30\xB0\x63\x8C\x0D\x1B\x0C\x00\x00\x18\x32\x04\x03\x00\x00\x22\xAA\xB8\xC3\x80\x01\x03\x1B\x00\x00\xD8\xB0\x01\xC0\x86\x0D\x06\x00\x18\x30\x00\xC0\x00\x00\x03\x06\x36\x6C\x00\xB0\x01\xC0\x06\x00\x1B\x0C\x6C\x00\x00\x60\x83\x01\x00\x00\x36\x18\x30\x00\xF8\x0F\xE0\x01\xFC\xFF\x00\x66\x8C\x01\xF0\x07\x00\x00\x00\x7E\x38\xD8\x60\x00\x00\x18\x03\x1F\x00\x00\x30\x80\x81\x0D\x03\x00\x00\x36\x00\x00\x80\x61\x83\x01\x00\x00",
  "\x00\x4A\x6D\xB3\x81\x80\x07\x0F\x00\xFF\x00\xFC\xC3\x62\x86\x9F\x3F\x0C\x0F\xF0\xF8\x31\xB3\x8D\x03\x00\x3F\x7E\x30\x00\x00\x00\x00\x00\x82\x3F\x00\x78\x90\xB0\x31\x64\x88\x0D\x03\x0C\x60\x00\x00\x00\x00\x00\x00\x20\xC3\x3C\x80\x01\xC3\x63\xC0\x00\x30\x63\xC6\x60\xC0\x00\x03\x00\x83\x31\x63\x6C\x98\x19\x62\xC6\x88\x91\x21\x63\x30\xC0\x30\x63\xE0\xDF\x9B\x31\x66\xC6\x98\x19\x93\x69\xCC\xB0\x61\x66\x86\x85\x61\x30\x00\x06\x00\x00\x00\x00\x18\x00\x00\x03\x80\x09\x00\x06\x00\x00\x30\x80\x01\x00\x00\x00\x00\x00\x00\x00\xC0\x00\x00\x00\x00\x00\x00\x00\xC0\x80\x01\x03\x00\x04\x43\x00\x00\x00\x00\x00\x00\x00\x1E\x00\x00\x00\x00\x00\x00\x00\x07\x0E\x7F\x00\xCC\x00\x00\x00\x00\x00\x00\x00\xC6\x8C\x19\x66\x80\x87\x0F\x0C\x00\x00\x00\x00\x00\xE0\x0C\x1F\x0E\x00\x00\x00\x18\x33\x06\x00\x00\x00\x88\x54\xED\xC2\x80\x01\x03\x1B\x00\x00\xD8\xB0\x01\xC0\x86\x0D\x06\x00\x18\x30\x00\xC0\x00\x00\x03\x06\x36\x6C\x00\xB0\x01\xC0\x06\x00\x1B\x0C\x6C\x00\x00\x60\x83\x01\x00\x00\x36\x18\x30\x00\xF8\x0F\xE0\x01\xFC\xFF\x00\x66\x8C\xF9\x33\x06\x80\x19\x37\x18\x6C\x8C\xC1\x00\x00\x8C\x81\x31\x7F\x30\x60\xC0\x80\x0D\x03\x06\x00\x1C\x00\x00\x80\x61\xC3\x80\x0F\x00",
  "\x00\x02\xFD\xFB\xC3\x81\x87\x1F\x00\xFF\x78\x0C\x63\x62\x86\x81\xB1\x6D\x1F\xF8\x60\x30\xB3\xCD\x06\x00\x0C\x18\x30\x60\x60\x00\x80\x04\x87\x3F\x00\x78\x00\xF8\x33\x60\x0C\x07\x00\x0C\x60\x98\xC1\x00\x00\x00\x00\x30\xC3\x30\xC0\x00\x63\x63\xC0\x00\x30\x63\xC6\x60\xC0\x80\xC1\x0F\x06\x18\x63\xC6\x98\x19\x60\xC6\x82\x85\x01\x63\x30\xC0\xB0\x61\xE0\xDF\x9F\x31\x66\xC6\x98\x31\x80\x61\xCC\xB0\x61\x3C\xCC\xC0\x60\x70\x00\x06\x00\x00\x00\x3C\x78\xF0\xC1\xC3\x87\x01\x37\x36\x38\xC0\x31\x83\xE1\xCC\x0E\x1F\x3B\xDC\xEC\xF0\xF1\x63\xC6\xB0\x61\xC3\xC6\xFC\xC1\x80\x01\x03\x00\x0E\x03\x66\xF8\xF0\xE0\xC1\x83\x07\x33\x3E\x7C\xF8\xE0\xC0\x81\x83\x0D\x1B\x66\xEC\xCC\xF0\xE1\xC3\xC7\x8C\x19\x63\xC6\x8C\x19\xF0\x00\x83\x11\x0C\x1E\x38\xF8\x98\xB1\xE3\x0D\x00\x00\x0C\x00\x00\x98\x31\x03\x03\x9B\x0D\x22\xAA\xB8\xC3\x80\xE1\x03\x1B\x00\x1F\xDE\xB0\xF9\xF3\x86\xCD\x07\x00\x18\x30\x00\xC0\x00\x00\x03\x7E\x36\xEC\xF9\xBF\xFF\xCF\xFE\xFF\xFB\xFF\x6C\xFE\x03\x60\x83\x1F\x3F\x00\x36\xFF\x31\x00\xF8\x0F\xE0\x01\xFC\xFF\x6E\x66\x0C\xB0\x61\xC0\x8F\x99\x1D\x3C\xC6\x8C\x81\xE1\xC7\x8F\x81\x31\x00\x30\xC0\x60\x80\x01\x03\x06\x37\x00\x00\x00\x80\x61\x63\x82\x0F\x00",
  "\x00\x02\xFD\xFB\xE3\xE3\xDC\x3F\x0C\xE7\xCC\x64\xF2\x60\x86\x81\x31\x1E\x7F\xFE\x60\x30\xE3\x6D\x0C\x00\x0C\x18\x30\xC0\x30\x30\xC0\x0C\x07\x1F\x00\x30\x00\xB0\xE1\x03\x86\x1B\x00\x0C\x60\xF0\xC0\x00\x00\x00\x00\x18\xDB\x30\x60\xE0\x31\xE3\xC7\x0F\x18\x3E\xFC\x00\x00\xC0\x00\x00\x0C\x0C\x7B\xC6\xF8\x18\x60\xC6\x83\x87\x01\x7F\x30\xC0\xF0\x60\x60\xDB\x9E\x31\x3E\xC6\xF8\xE0\x80\x61\xCC\xB0\x61\x18\x78\x60\x60\xE0\x00\x06\x00\x00\x00\x60\xD8\x18\x63\x63\xCC\x83\x19\x6E\x30\x80\xB1\x81\xE1\x9F\x99\x31\x66\x66\xB8\x19\xC3\x60\xC6\xB0\x61\x66\xC6\xCC\x70\x00\x00\x0E\x00\x1B\x03\x66\x8C\x81\x01\x03\x06\x0C\x03\x63\xC6\x8C\xC1\x80\x01\xC3\x98\x31\x06\xB8\xFD\x19\x33\x66\xCC\x8C\x19\x63\xC6\x8C\x19\x60\xE0\x9F\x19\x3F\x30\x30\x8C\x99\x61\xE6\x8F\x1F\x1F\x0C\xFE\xFC\xC1\x80\x01\x83\x0D\x1B\x88\x54\xED\xC2\x80\x01\x03\x1B\x00\x18\xC0\xB0\x01\x03\x86\x0D\x06\x00\x18\x30\x00\xC0\x00\x00\x03\x06\x36\x0C\x18\x00\x00\xC0\x00\x00\x00\x00\x6C\x00\x00\x60\x83\x01\x03\x00\x36\x18\x30\x00\xF8\x0F\xE0\x01\xFC\xFF\x3B\x36\x0C\xB0\xC1\x60\x83\x19\x0C\x66\xC6\x8C\xE1\xB3\x6D\x9B\x8F\x31\x00\xFC\x80\x31\x80\x01\x03\x80\x1D\x00\x00\x00\x80\x61\xE3\x83\x0F\x00",
  "\x00\x7A\x0D\xFB\xF3\xE7\xDC\x3F\x1E\xC3\x84\xF4\x9A\xC1\x83\x81\xB1\x73\x1F\xF8\x60\x30\x83\x6D\x0C\x00\x0C\x18\x30\xFC\xF9\x33\xE0\x9F\x0F\x1F\x00\x30\x00\xB0\x01\x06\xC3\x0E\x00\x0C\x60\xFC\xF3\x03\xE0\x0F\x00\x0C\xDB\x30\x30\x00\xF3\x07\xCC\x18\x0C\x63\xC0\x00\x00\x60\x00\x00\x18\x0C\x7B\xFE\x98\x19\x60\xC6\x82\x85\x3D\x63\x30\xC0\xF0\x60\x60\xD8\x9C\x31\x06\xC6\xD8\x80\x81\x61\xCC\xB0\x6D\x18\x30\x30\x60\xC0\x01\x06\x00\x00\x00\x7C\x98\x19\x30\xE3\x8F\x81\x19\x66\x30\x80\xF1\x80\x61\x9B\x99\x31\x66\x66\x98\x31\xC0\x60\xC6\xB0\x61\x3C\xC6\x60\xC0\x80\x01\x03\x80\x31\x03\x66\xFC\xF1\xE1\xC3\x87\x0F\x03\x7F\xFE\xFC\xC1\x80\x01\xC3\x98\x31\x3E\xB0\xCD\x18\x33\x66\xCC\x8C\x19\x63\xC6\x8C\x19\x60\x00\x83\x3D\x0C\x3E\x30\x8C\x99\x61\x66\x0F\x00\x00\x06\x06\x80\x61\xC0\x00\xC3\x06\x36\x22\xAA\xB8\xC3\xF0\xE1\xC3\x9B\x3F\x1F\xDE\xB0\x79\xF3\xE7\xCF\x87\x0F\xF8\xFF\xFF\xC7\xFF\xFF\x3F\x7E\xF6\xFC\xD9\xFF\x7F\xCF\xFE\xFF\xFB\xFF\xFF\xFF\xFF\xE7\x8F\x1F\x3F\xFF\xFF\xFF\x3F\xE0\xFF\xFF\xFF\x01\x7C\x00\x1B\x66\x0C\xB0\x81\x61\x83\x19\x0C\x66\xFE\xD8\x30\xB3\x6D\x9B\x81\x31\x7F\x30\xC0\x60\x80\x01\x83\x1F\x00\x00\x30\x00\xB8\x01\x00\x80\x0F\x00",
  "\x00\x32\x9D\xFB\xE3\xE3\x9C\x1F\x1E\xC3\x84\xF4\x9A\x81\x81\x81\x31\x1E\x0F\xF0\xF8\x31\x83\xCD\xC6\x1F\x3F\x18\x30\xC0\x30\x30\xC0\x8C\x0F\x0E\x00\x30\x00\xB0\x01\x86\xC1\x0C\x00\x0C\x60\xF0\xC0\x00\x00\x00\x00\x06\xC3\x30\x18\x00\x03\x03\xCC\x18\x06\x63\xC0\x00\x00\xC0\xC0\x0F\x0C\x0C\x7B\xC6\x98\x19\x60\xC6\x80\x81\x31\x63\x30\xCC\xB0\x61\x60\xD8\x98\x31\x06\xC6\x98\x01\x83\x61\xCC\xB0\x6D\x3C\x30\x18\x60\x80\x03\x06\x00\x00\x00\x66\x98\x19\x30\x63\x80\x81\x19\x66\x30\x80\xF1\x80\x61\x9B\x99\x31\x66\x66\x18\xE0\xC0\x60\xC6\xB0\x6D\x18\xC6\x30\xC0\x80\x01\x03\x80\x31\x43\x66\x0C\x98\x31\x63\xC6\x0C\x33\x03\x06\x0C\xC0\x80\x01\xC3\x9F\x3F\x06\xFC\xCC\x18\x33\x66\xCC\x8C\x19\x63\xC6\x8C\x19\x66\xE0\x9F\x19\x0C\x33\x30\x8C\x99\x61\x66\x0E\x00\x00\x03\x06\x80\x31\x60\x86\x87\x0D\x1B\x88\x54\xED\xC2\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x1B\xC6\x0C\xB0\xC1\x60\x83\x19\x0C\x66\xC6\xD8\x30\xB3\xED\x99\x81\x31\x00\x30\x60\xC0\x80\x61\x03\x00\x37\x00\x30\x60\xB0\x01\x00\x80\x0F\x00",
  "\x00\x02\xFD\xF3\xC1\x01\x03\x06\x0C\xE7\xCC\x64\x9A\xE1\xC7\x81\xB9\x6D\x07\xE0\xF0\x00\x80\x8D\xC3\x1F\x1E\x18\xFC\x60\x60\xF0\x87\xC4\x1F\x0E\x00\x00\x00\xF8\x13\xC6\xC0\x0C\x00\x0C\x60\x98\xC1\x80\x01\x00\x00\x03\xC3\x30\x0C\x00\x03\x03\xCC\x18\x06\x63\xC0\x60\xC0\x80\x01\x00\x06\x00\x3B\xC6\x98\x19\x62\xC6\x88\x81\x31\x63\x30\xCC\x30\x63\x64\xD8\x98\x31\x06\xD6\x98\x19\x83\x61\x8C\x99\x7F\x66\x30\x0C\x62\x00\x07\x06\x00\x00\x00\x66\x98\x19\x30\x63\x80\x81\x19\x66\x30\x80\xB1\x81\x61\x9B\x99\x31\x66\x66\x18\x80\xC1\x60\x86\x99\x6D\x3C\xC6\x18\xC0\x80\x01\x03\x80\x31\x66\x66\x0C\x98\x31\x63\xC6\x0C\x1E\x03\x06\x0C\xC0\x80\x01\xC3\x98\x31\x06\x36\xCC\x18\x33\x66\xCC\x8C\x19\x63\xC6\x8C\xF1\x63\x00\x83\x19\x0C\x33\x30\x8C\x99\x61\x66\x0C\x00\x00\x63\x06\x80\x99\x33\x87\x07\x9B\x0D\x22\xAA\xB8\xC3\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x1B\xC6\x0C\xB0\x61\x60\x83\x0F\x0C\x3C\xC6\xD8\x30\xE3\xC7\x8F\x81\x31\x00\x00\x30\x80\x81\x61\x03\x86\x1D\x00\x00\x00\xB0\x01\x00\x80\x0F\x00",
  "\x00\x02\xFD\xE3\x80\x00\x03\x06\x00\xFF\x78\x0C\x9B\x81\xE1\xC1\x39\x0C\x03\xC0\x60\x30\x83\x0D\xC6\x1F\x0C\x18\x78\x00\x00\x00\x00\xC0\x1F\x04\x00\x30\x00\xB0\x31\x66\xCC\x0C\x00\x18\x30\x00\x00\x80\x01\x00\x86\x01\x66\x30\x8C\x19\x03\x63\xCC\x18\x06\x63\x60\x60\xC0\x00\x03\x00\x03\x0C\x03\xC6\x98\x31\x63\xC3\x8C\x01\x33\x63\x30\xCC\x30\x63\x66\xD8\x98\x31\x06\xF6\x98\x19\x83\x61\x0C\x0F\x33\xC3\x30\x0C\x63\x00\x06\x06\x00\x00\x00\x66\x98\x19\x33\x63\x8C\x81\x19\x66\x30\x80\x31\x83\x61\x9B\x99\x31\x66\x66\x18\x18\xC3\x66\x06\x8F\x7F\x66\xC6\x8C\xC1\x80\x01\x03\x80\x3F\x3C\x66\x8C\x99\x31\x63\xC6\x0C\x18\x63\xC6\x8C\xC1\x80\x01\xC3\x98\x31\x66\x76\xCC\x18\x33\x66\xCC\x8C\x19\x63\xC6\x8C\xC1\x70\x06\x83\x19\x0C\x33\x30\x8C\x99\x61\x66\x0C\x00\x00\x63\x06\x80\xC9\x96\x86\x07\x00\x00\x88\x54\xED\xC2\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x3B\xC6\x0C\xB0\x31\x66\x83\x01\x0C\x18\x6C\xD8\x30\x03\xC0\x00\x83\x31\x7F\x00\x00\x00\x80\x61\x03\x06\x00\x00\x00\x00\xE0\x01\x00\x80\x0F\x00",
  "\x00\xFC\xF8\x41\x00\x80\x07\x0F\x00\xFF\x00\xFC\xF3\x80\xE1\xC0\x19\x0C\x01\x80\x00\x30\x83\x6D\xCC\x1F\x3F\x18\x30\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\xB0\xE1\x23\x8C\x1B\x00\x30\x18\x00\x00\x80\x01\x00\x86\x00\x3C\xFC\xFC\xF1\x81\xC7\x87\x0F\x06\x3E\x3C\x00\x60\x00\x06\x80\x01\x0C\x3E\xC6\xFC\xE0\xF1\xE1\xCF\x03\x2E\x63\x78\x78\x38\xF3\x67\xD8\x18\x1F\x0F\x7C\x9C\xF1\xC1\xC3\x07\x06\x33\xC3\x78\xFC\xE3\x01\x84\x07\x00\x00\x00\xDC\xF8\xF0\xE1\xC6\xC7\x03\x1F\x67\x78\x80\x39\xC3\x63\x9B\x19\x1F\x3E\x7C\x3C\xF0\x81\xC3\x0D\x06\x33\xC3\xFC\xFC\x81\x83\xC1\x01\x00\x00\x30\xDC\xF8\x70\xE3\xC6\x8D\x1B\x30\x3E\x7C\xF8\xE0\xC1\x83\xC7\x98\x31\x7F\xDC\xCD\xF1\xE1\xC3\x87\x1B\x37\x7E\x7C\xF8\xC0\xF0\x03\xC3\x33\x0C\x6E\x78\xF8\x70\x63\x66\x0C\x00\x00\x3E\x00\x00\x00\xC3\x07\x03\x00\x00\x22\xAA\xB8\xC3\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x6E\x66\x0C\xB0\xF1\xC7\x81\x01\x0C\x7E\x38\xDC\xE1\x01\x60\x00\x8E\x31\x00\xFE\xF9\xF1\x83\xC1\x01\x00\x00\x00\x00\x00\xC0\x01\x00\x00\x00\x00",
  "\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\x00\xFC\x03\x00\x00\xC0\x00\x00\x00\x00\x00\x00\x00\xC0\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\xC0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x60\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x98\x01\x00\x00\x00\x00\x00\x06\x60\x00\x00\x00\x00\x00\x00\x00\x00\xC0\x00\x00\x00\x00\x00\x00\x00\x60\x00\x00\x00\x00\x00\x00\x00\x1E\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x60\x00\x00\x00\x00\x00\x00\x80\x0D\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x06\x00\x00\x00\x88\x54\xED\xC2\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x00\x00\x00\x00\x00\x00\xC0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",
  "\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\x00\xFC\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xE0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x7F\x00\x00\x00\x00\x00\x00\x00\x80\x19\x00\x00\x98\x01\x00\x00\x00\x00\x00\x06\x60\x00\x00\x00\x00\x00\x00\x00\x00\x60\x00\x00\x00\x00\x00\x00\x00\x3E\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xC0\x07\x06\x00\x00\x00\x22\xAA\xB8\xC3\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",
  "\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\x00\xFC\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0F\x00\x00\xF0\x00\x00\x00\x00\x00\x00\x0F\xF0\x00\x00\x00\x00\x00\x00\x00\x00\x3E\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1E\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x88\x54\xED\xC2\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",
  "\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\x00\xFC\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x22\xAA\xB8\xC3\x80\x01\x03\x1B\x36\x18\xD8\xB0\x61\x03\x00\x00\x00\x0C\x00\x00\x60\xC0\x00\x00\x03\x06\x36\x00\xD8\x00\x60\xC3\x06\x00\x1B\x00\x00\x30\xB0\x01\x00\x00\x03\x1B\x36\x18\x00\x60\xF8\xFF\xFF\x01\x7C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",
);

#                                80 chars   margin * 2  fontwidth, scale  8bits
use constant EMPTY_ROW => ("\0" x ((80 + MARGIN_W * 2) * FONT_W * SCALE_W / 8));

my @rows;

# top margin
push @rows, EMPTY_ROW for (0 .. (FONT_H * SCALE_H * MARGIN_H) - 1);

while (my $line = <STDIN>)
{
  # stdization
  $line =~ s/\R$//;
  $line =~ s/\t/        /g;

  #print STDERR $line . "\n";
  do {
    # 80 chars at a time
    my @chars = unpack('C80', $line);
    substr($line, 0, 80) = '';

    # process one raster line at a time
    for my $y (0 .. FONT_H - 1) {
      my $row = EMPTY_ROW;
      # left margin offset
      my $vec_ptr = MARGIN_W * FONT_W * SCALE_W;

      foreach my $c (@chars) {
        # skip unprintables
        if ($c == 0 || $c == 0x20 || $c == 0xFF) {
          $vec_ptr += FONT_W * SCALE_W;
        } else {
	  # check if pixel is set in font
          for my $x ($c * FONT_W .. $c * FONT_W + FONT_W - 1) {
            if (vec((FONT)[$y], $x, 1)) {
	      # yes... set pixels in row
              vec($row, $vec_ptr + $_, 1) = 1 for (0 .. SCALE_W - 1);
            }
            $vec_ptr += SCALE_W;
          }
        }
      }

      # copy row to output SCALE_H times
      push @rows, $row for (0 .. SCALE_H - 1);
    }

  } while ($line);
}

# bottom margin
push @rows, EMPTY_ROW for (0 .. (FONT_H * SCALE_H * MARGIN_H) - 1);

# write file to STDOUT
binmode(STDOUT);
my $png = create_write_struct ();
$png->init_io (\*STDOUT);
$png->set_IHDR ( {
  height => scalar(@rows),
  width => length($rows[0]) * 8,
  bit_depth => 1,
  color_type => PNG_COLOR_TYPE_GRAY
});
$png->set_compression_level(9);
$png->set_rows (\@rows);
$png->write_png ( PNG_TRANSFORM_PACKSWAP |
                 (INVERT ? PNG_TRANSFORM_INVERT_MONO : 0) );
